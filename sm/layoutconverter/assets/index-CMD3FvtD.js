(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const d of m.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(u){if(u.ep)return;u.ep=!0;const m=r(u);fetch(u.href,m)}})();var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ct(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function c(){return this instanceof c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(c){var u=Object.getOwnPropertyDescriptor(n,c);Object.defineProperty(r,c,u.get?u:{enumerable:!0,get:function(){return n[c]}})}),r}var Xe={};const ut={},lt=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"})),Pe=ct(lt);(function(n){(function(e){e.parser=function(i,t){return new c(i,t)},e.SAXParser=c,e.SAXStream=v,e.createStream=j,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function c(i,t){if(!(this instanceof c))return new c(i,t);var l=this;m(l),l.q=l.c="",l.bufferCheckPosition=e.MAX_BUFFER_LENGTH,l.opt=t||{},l.opt.lowercase=l.opt.lowercase||l.opt.lowercasetags,l.looseCase=l.opt.lowercase?"toLowerCase":"toUpperCase",l.tags=[],l.closed=l.closedRoot=l.sawRoot=!1,l.tag=l.error=null,l.strict=!!i,l.noscript=!!(i||l.opt.noscript),l.state=s.BEGIN,l.strictEntities=l.opt.strictEntities,l.ENTITIES=l.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),l.attribList=[],l.opt.xmlns&&(l.ns=Object.create(f)),l.trackPosition=l.opt.position!==!1,l.trackPosition&&(l.position=l.line=l.column=0),Z(l,"onready")}Object.create||(Object.create=function(i){function t(){}t.prototype=i;var l=new t;return l}),Object.keys||(Object.keys=function(i){var t=[];for(var l in i)i.hasOwnProperty(l)&&t.push(l);return t});function u(i){for(var t=Math.max(e.MAX_BUFFER_LENGTH,10),l=0,a=0,p=r.length;a<p;a++){var C=i[r[a]].length;if(C>t)switch(r[a]){case"textNode":ee(i);break;case"cdata":I(i,"oncdata",i.cdata),i.cdata="";break;case"script":I(i,"onscript",i.script),i.script="";break;default:ie(i,"Max buffer length exceeded: "+r[a])}l=Math.max(l,C)}var D=e.MAX_BUFFER_LENGTH-l;i.bufferCheckPosition=D+i.position}function m(i){for(var t=0,l=r.length;t<l;t++)i[r[t]]=""}function d(i){ee(i),i.cdata!==""&&(I(i,"oncdata",i.cdata),i.cdata=""),i.script!==""&&(I(i,"onscript",i.script),i.script="")}c.prototype={end:function(){xe(this)},write:at,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){d(this)}};var y;try{y=Pe.Stream}catch{y=function(){}}y||(y=function(){});var O=e.EVENTS.filter(function(i){return i!=="error"&&i!=="end"});function j(i,t){return new v(i,t)}function v(i,t){if(!(this instanceof v))return new v(i,t);y.apply(this),this._parser=new c(i,t),this.writable=!0,this.readable=!0;var l=this;this._parser.onend=function(){l.emit("end")},this._parser.onerror=function(a){l.emit("error",a),l._parser.error=null},this._decoder=null,O.forEach(function(a){Object.defineProperty(l,"on"+a,{get:function(){return l._parser["on"+a]},set:function(p){if(!p)return l.removeAllListeners(a),l._parser["on"+a]=p,p;l.on(a,p)},enumerable:!0,configurable:!1})})}v.prototype=Object.create(y.prototype,{constructor:{value:v}}),v.prototype.write=function(i){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(i)){if(!this._decoder){var t=Pe.StringDecoder;this._decoder=new t("utf8")}i=this._decoder.write(i)}return this._parser.write(i.toString()),this.emit("data",i),!0},v.prototype.end=function(i){return i&&i.length&&this.write(i),this._parser.end(),!0},v.prototype.on=function(i,t){var l=this;return!l._parser["on"+i]&&O.indexOf(i)!==-1&&(l._parser["on"+i]=function(){var a=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);a.splice(0,0,i),l.emit.apply(l,a)}),y.prototype.on.call(l,i,t)};var V="[CDATA[",W="DOCTYPE",G="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",f={xml:G,xmlns:g},F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function E(i){return i===" "||i===`
`||i==="\r"||i==="	"}function A(i){return i==='"'||i==="'"}function S(i){return i===">"||E(i)}function x(i,t){return i.test(t)}function U(i,t){return!x(i,t)}var s=0;e.STATE={BEGIN:s++,BEGIN_WHITESPACE:s++,TEXT:s++,TEXT_ENTITY:s++,OPEN_WAKA:s++,SGML_DECL:s++,SGML_DECL_QUOTED:s++,DOCTYPE:s++,DOCTYPE_QUOTED:s++,DOCTYPE_DTD:s++,DOCTYPE_DTD_QUOTED:s++,COMMENT_STARTING:s++,COMMENT:s++,COMMENT_ENDING:s++,COMMENT_ENDED:s++,CDATA:s++,CDATA_ENDING:s++,CDATA_ENDING_2:s++,PROC_INST:s++,PROC_INST_BODY:s++,PROC_INST_ENDING:s++,OPEN_TAG:s++,OPEN_TAG_SLASH:s++,ATTRIB:s++,ATTRIB_NAME:s++,ATTRIB_NAME_SAW_WHITE:s++,ATTRIB_VALUE:s++,ATTRIB_VALUE_QUOTED:s++,ATTRIB_VALUE_CLOSED:s++,ATTRIB_VALUE_UNQUOTED:s++,ATTRIB_VALUE_ENTITY_Q:s++,ATTRIB_VALUE_ENTITY_U:s++,CLOSE_TAG:s++,CLOSE_TAG_SAW_WHITE:s++,SCRIPT:s++,SCRIPT_ENDING:s++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(i){var t=e.ENTITIES[i],l=typeof t=="number"?String.fromCharCode(t):t;e.ENTITIES[i]=l});for(var _e in e.STATE)e.STATE[e.STATE[_e]]=_e;s=e.STATE;function Z(i,t,l){i[t]&&i[t](l)}function I(i,t,l){i.textNode&&ee(i),Z(i,t,l)}function ee(i){i.textNode=we(i.opt,i.textNode),i.textNode&&Z(i,"ontext",i.textNode),i.textNode=""}function we(i,t){return i.trim&&(t=t.trim()),i.normalize&&(t=t.replace(/\s+/g," ")),t}function ie(i,t){return ee(i),i.trackPosition&&(t+=`
Line: `+i.line+`
Column: `+i.column+`
Char: `+i.c),t=new Error(t),i.error=t,Z(i,"onerror",t),i}function xe(i){return i.sawRoot&&!i.closedRoot&&_(i,"Unclosed root tag"),i.state!==s.BEGIN&&i.state!==s.BEGIN_WHITESPACE&&i.state!==s.TEXT&&ie(i,"Unexpected end"),ee(i),i.c="",i.closed=!0,Z(i,"onend"),c.call(i,i.strict,i.opt),i}function _(i,t){if(typeof i!="object"||!(i instanceof c))throw new Error("bad call to strictFail");i.strict&&ie(i,t)}function rt(i){i.strict||(i.tagName=i.tagName[i.looseCase]());var t=i.tags[i.tags.length-1]||i,l=i.tag={name:i.tagName,attributes:{}};i.opt.xmlns&&(l.ns=t.ns),i.attribList.length=0,I(i,"onopentagstart",l)}function oe(i,t){var l=i.indexOf(":"),a=l<0?["",i]:i.split(":"),p=a[0],C=a[1];return t&&i==="xmlns"&&(p="xmlns",C=""),{prefix:p,local:C}}function ce(i){if(i.strict||(i.attribName=i.attribName[i.looseCase]()),i.attribList.indexOf(i.attribName)!==-1||i.tag.attributes.hasOwnProperty(i.attribName)){i.attribName=i.attribValue="";return}if(i.opt.xmlns){var t=oe(i.attribName,!0),l=t.prefix,a=t.local;if(l==="xmlns")if(a==="xml"&&i.attribValue!==G)_(i,"xml: prefix must be bound to "+G+`
Actual: `+i.attribValue);else if(a==="xmlns"&&i.attribValue!==g)_(i,"xmlns: prefix must be bound to "+g+`
Actual: `+i.attribValue);else{var p=i.tag,C=i.tags[i.tags.length-1]||i;p.ns===C.ns&&(p.ns=Object.create(C.ns)),p.ns[a]=i.attribValue}i.attribList.push([i.attribName,i.attribValue])}else i.tag.attributes[i.attribName]=i.attribValue,I(i,"onattribute",{name:i.attribName,value:i.attribValue});i.attribName=i.attribValue=""}function $(i,t){if(i.opt.xmlns){var l=i.tag,a=oe(i.tagName);l.prefix=a.prefix,l.local=a.local,l.uri=l.ns[a.prefix]||"",l.prefix&&!l.uri&&(_(i,"Unbound namespace prefix: "+JSON.stringify(i.tagName)),l.uri=a.prefix);var p=i.tags[i.tags.length-1]||i;l.ns&&p.ns!==l.ns&&Object.keys(l.ns).forEach(function(Oe){I(i,"onopennamespace",{prefix:Oe,uri:l.ns[Oe]})});for(var C=0,D=i.attribList.length;C<D;C++){var M=i.attribList[C],k=M[0],q=M[1],P=oe(k,!0),H=P.prefix,st=P.local,De=H===""?"":l.ns[H]||"",le={name:k,value:q,prefix:H,local:st,uri:De};H&&H!=="xmlns"&&!De&&(_(i,"Unbound namespace prefix: "+JSON.stringify(H)),le.uri=H),i.tag.attributes[k]=le,I(i,"onattribute",le)}i.attribList.length=0}i.tag.isSelfClosing=!!t,i.sawRoot=!0,i.tags.push(i.tag),I(i,"onopentag",i.tag),t||(!i.noscript&&i.tagName.toLowerCase()==="script"?i.state=s.SCRIPT:i.state=s.TEXT,i.tag=null,i.tagName=""),i.attribName=i.attribValue="",i.attribList.length=0}function ue(i){if(!i.tagName){_(i,"Weird empty close tag."),i.textNode+="</>",i.state=s.TEXT;return}if(i.script){if(i.tagName!=="script"){i.script+="</"+i.tagName+">",i.tagName="",i.state=s.SCRIPT;return}I(i,"onscript",i.script),i.script=""}var t=i.tags.length,l=i.tagName;i.strict||(l=l[i.looseCase]());for(var a=l;t--;){var p=i.tags[t];if(p.name!==a)_(i,"Unexpected close tag");else break}if(t<0){_(i,"Unmatched closing tag: "+i.tagName),i.textNode+="</"+i.tagName+">",i.state=s.TEXT;return}i.tagName=l;for(var C=i.tags.length;C-- >t;){var D=i.tag=i.tags.pop();i.tagName=i.tag.name,I(i,"onclosetag",i.tagName);var M={};for(var k in D.ns)M[k]=D.ns[k];var q=i.tags[i.tags.length-1]||i;i.opt.xmlns&&D.ns!==q.ns&&Object.keys(D.ns).forEach(function(P){var H=D.ns[P];I(i,"onclosenamespace",{prefix:P,uri:H})})}t===0&&(i.closedRoot=!0),i.tagName=i.attribValue=i.attribName="",i.attribList.length=0,i.state=s.TEXT}function ve(i){var t=i.entity,l=t.toLowerCase(),a,p="";return i.ENTITIES[t]?i.ENTITIES[t]:i.ENTITIES[l]?i.ENTITIES[l]:(t=l,t.charAt(0)==="#"&&(t.charAt(1)==="x"?(t=t.slice(2),a=parseInt(t,16),p=a.toString(16)):(t=t.slice(1),a=parseInt(t,10),p=a.toString(10))),t=t.replace(/^0+/,""),isNaN(a)||p.toLowerCase()!==t?(_(i,"Invalid character entity"),"&"+i.entity+";"):String.fromCodePoint(a))}function Ie(i,t){t==="<"?(i.state=s.OPEN_WAKA,i.startTagPosition=i.position):E(t)||(_(i,"Non-whitespace before first tag."),i.textNode=t,i.state=s.TEXT)}function Ce(i,t){var l="";return t<i.length&&(l=i.charAt(t)),l}function at(i){var t=this;if(this.error)throw this.error;if(t.closed)return ie(t,"Cannot write after close. Assign an onready handler.");if(i===null)return xe(t);typeof i=="object"&&(i=i.toString());for(var l=0,a="";a=Ce(i,l++),t.c=a,!!a;)switch(t.trackPosition&&(t.position++,a===`
`?(t.line++,t.column=0):t.column++),t.state){case s.BEGIN:if(t.state=s.BEGIN_WHITESPACE,a==="\uFEFF")continue;Ie(t,a);continue;case s.BEGIN_WHITESPACE:Ie(t,a);continue;case s.TEXT:if(t.sawRoot&&!t.closedRoot){for(var p=l-1;a&&a!=="<"&&a!=="&";)a=Ce(i,l++),a&&t.trackPosition&&(t.position++,a===`
`?(t.line++,t.column=0):t.column++);t.textNode+=i.substring(p,l-1)}a==="<"&&!(t.sawRoot&&t.closedRoot&&!t.strict)?(t.state=s.OPEN_WAKA,t.startTagPosition=t.position):(!E(a)&&(!t.sawRoot||t.closedRoot)&&_(t,"Text data outside of root node."),a==="&"?t.state=s.TEXT_ENTITY:t.textNode+=a);continue;case s.SCRIPT:a==="<"?t.state=s.SCRIPT_ENDING:t.script+=a;continue;case s.SCRIPT_ENDING:a==="/"?t.state=s.CLOSE_TAG:(t.script+="<"+a,t.state=s.SCRIPT);continue;case s.OPEN_WAKA:if(a==="!")t.state=s.SGML_DECL,t.sgmlDecl="";else if(!E(a))if(x(F,a))t.state=s.OPEN_TAG,t.tagName=a;else if(a==="/")t.state=s.CLOSE_TAG,t.tagName="";else if(a==="?")t.state=s.PROC_INST,t.procInstName=t.procInstBody="";else{if(_(t,"Unencoded <"),t.startTagPosition+1<t.position){var C=t.position-t.startTagPosition;a=new Array(C).join(" ")+a}t.textNode+="<"+a,t.state=s.TEXT}continue;case s.SGML_DECL:(t.sgmlDecl+a).toUpperCase()===V?(I(t,"onopencdata"),t.state=s.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+a==="--"?(t.state=s.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+a).toUpperCase()===W?(t.state=s.DOCTYPE,(t.doctype||t.sawRoot)&&_(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):a===">"?(I(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=s.TEXT):(A(a)&&(t.state=s.SGML_DECL_QUOTED),t.sgmlDecl+=a);continue;case s.SGML_DECL_QUOTED:a===t.q&&(t.state=s.SGML_DECL,t.q=""),t.sgmlDecl+=a;continue;case s.DOCTYPE:a===">"?(t.state=s.TEXT,I(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=a,a==="["?t.state=s.DOCTYPE_DTD:A(a)&&(t.state=s.DOCTYPE_QUOTED,t.q=a));continue;case s.DOCTYPE_QUOTED:t.doctype+=a,a===t.q&&(t.q="",t.state=s.DOCTYPE);continue;case s.DOCTYPE_DTD:t.doctype+=a,a==="]"?t.state=s.DOCTYPE:A(a)&&(t.state=s.DOCTYPE_DTD_QUOTED,t.q=a);continue;case s.DOCTYPE_DTD_QUOTED:t.doctype+=a,a===t.q&&(t.state=s.DOCTYPE_DTD,t.q="");continue;case s.COMMENT:a==="-"?t.state=s.COMMENT_ENDING:t.comment+=a;continue;case s.COMMENT_ENDING:a==="-"?(t.state=s.COMMENT_ENDED,t.comment=we(t.opt,t.comment),t.comment&&I(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+a,t.state=s.COMMENT);continue;case s.COMMENT_ENDED:a!==">"?(_(t,"Malformed comment"),t.comment+="--"+a,t.state=s.COMMENT):t.state=s.TEXT;continue;case s.CDATA:a==="]"?t.state=s.CDATA_ENDING:t.cdata+=a;continue;case s.CDATA_ENDING:a==="]"?t.state=s.CDATA_ENDING_2:(t.cdata+="]"+a,t.state=s.CDATA);continue;case s.CDATA_ENDING_2:a===">"?(t.cdata&&I(t,"oncdata",t.cdata),I(t,"onclosecdata"),t.cdata="",t.state=s.TEXT):a==="]"?t.cdata+="]":(t.cdata+="]]"+a,t.state=s.CDATA);continue;case s.PROC_INST:a==="?"?t.state=s.PROC_INST_ENDING:E(a)?t.state=s.PROC_INST_BODY:t.procInstName+=a;continue;case s.PROC_INST_BODY:if(!t.procInstBody&&E(a))continue;a==="?"?t.state=s.PROC_INST_ENDING:t.procInstBody+=a;continue;case s.PROC_INST_ENDING:a===">"?(I(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=s.TEXT):(t.procInstBody+="?"+a,t.state=s.PROC_INST_BODY);continue;case s.OPEN_TAG:x(w,a)?t.tagName+=a:(rt(t),a===">"?$(t):a==="/"?t.state=s.OPEN_TAG_SLASH:(E(a)||_(t,"Invalid character in tag name"),t.state=s.ATTRIB));continue;case s.OPEN_TAG_SLASH:a===">"?($(t,!0),ue(t)):(_(t,"Forward-slash in opening tag not followed by >"),t.state=s.ATTRIB);continue;case s.ATTRIB:if(E(a))continue;a===">"?$(t):a==="/"?t.state=s.OPEN_TAG_SLASH:x(F,a)?(t.attribName=a,t.attribValue="",t.state=s.ATTRIB_NAME):_(t,"Invalid attribute name");continue;case s.ATTRIB_NAME:a==="="?t.state=s.ATTRIB_VALUE:a===">"?(_(t,"Attribute without value"),t.attribValue=t.attribName,ce(t),$(t)):E(a)?t.state=s.ATTRIB_NAME_SAW_WHITE:x(w,a)?t.attribName+=a:_(t,"Invalid attribute name");continue;case s.ATTRIB_NAME_SAW_WHITE:if(a==="=")t.state=s.ATTRIB_VALUE;else{if(E(a))continue;_(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",I(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",a===">"?$(t):x(F,a)?(t.attribName=a,t.state=s.ATTRIB_NAME):(_(t,"Invalid attribute name"),t.state=s.ATTRIB)}continue;case s.ATTRIB_VALUE:if(E(a))continue;A(a)?(t.q=a,t.state=s.ATTRIB_VALUE_QUOTED):(_(t,"Unquoted attribute value"),t.state=s.ATTRIB_VALUE_UNQUOTED,t.attribValue=a);continue;case s.ATTRIB_VALUE_QUOTED:if(a!==t.q){a==="&"?t.state=s.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=a;continue}ce(t),t.q="",t.state=s.ATTRIB_VALUE_CLOSED;continue;case s.ATTRIB_VALUE_CLOSED:E(a)?t.state=s.ATTRIB:a===">"?$(t):a==="/"?t.state=s.OPEN_TAG_SLASH:x(F,a)?(_(t,"No whitespace between attributes"),t.attribName=a,t.attribValue="",t.state=s.ATTRIB_NAME):_(t,"Invalid attribute name");continue;case s.ATTRIB_VALUE_UNQUOTED:if(!S(a)){a==="&"?t.state=s.ATTRIB_VALUE_ENTITY_U:t.attribValue+=a;continue}ce(t),a===">"?$(t):t.state=s.ATTRIB;continue;case s.CLOSE_TAG:if(t.tagName)a===">"?ue(t):x(w,a)?t.tagName+=a:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=s.SCRIPT):(E(a)||_(t,"Invalid tagname in closing tag"),t.state=s.CLOSE_TAG_SAW_WHITE);else{if(E(a))continue;U(F,a)?t.script?(t.script+="</"+a,t.state=s.SCRIPT):_(t,"Invalid tagname in closing tag."):t.tagName=a}continue;case s.CLOSE_TAG_SAW_WHITE:if(E(a))continue;a===">"?ue(t):_(t,"Invalid characters in closing tag");continue;case s.TEXT_ENTITY:case s.ATTRIB_VALUE_ENTITY_Q:case s.ATTRIB_VALUE_ENTITY_U:var D,M;switch(t.state){case s.TEXT_ENTITY:D=s.TEXT,M="textNode";break;case s.ATTRIB_VALUE_ENTITY_Q:D=s.ATTRIB_VALUE_QUOTED,M="attribValue";break;case s.ATTRIB_VALUE_ENTITY_U:D=s.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}if(a===";")if(t.opt.unparsedEntities){var k=ve(t);t.entity="",t.state=D,t.write(k)}else t[M]+=ve(t),t.entity="",t.state=D;else x(t.entity.length?h:R,a)?t.entity+=a:(_(t,"Invalid character in entity name"),t[M]+="&"+t.entity+a,t.entity="",t.state=D);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&u(t),t}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var i=String.fromCharCode,t=Math.floor,l=function(){var a=16384,p=[],C,D,M=-1,k=arguments.length;if(!k)return"";for(var q="";++M<k;){var P=Number(arguments[M]);if(!isFinite(P)||P<0||P>1114111||t(P)!==P)throw RangeError("Invalid code point: "+P);P<=65535?p.push(P):(P-=65536,C=(P>>10)+55296,D=P%1024+56320,p.push(C,D)),(M+1===k||p.length>a)&&(q+=i.apply(null,p),p.length=0)}return q};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:l,configurable:!0,writable:!0}):String.fromCodePoint=l}()})(n)})(Xe);var be={isArray:function(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n)==="[object Array]"}},ft=be.isArray,Ne={copyOptions:function(n){var e,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},ensureFlagExists:function(n,e){(!(n in e)||typeof e[n]!="boolean")&&(e[n]=!1)},ensureSpacesExists:function(n){(!("spaces"in n)||typeof n.spaces!="number"&&typeof n.spaces!="string")&&(n.spaces=0)},ensureAlwaysArrayExists:function(n){(!("alwaysArray"in n)||typeof n.alwaysArray!="boolean"&&!ft(n.alwaysArray))&&(n.alwaysArray=!1)},ensureKeyExists:function(n,e){(!(n+"Key"in e)||typeof e[n+"Key"]!="string")&&(e[n+"Key"]=e.compact?"_"+n:n)},checkFnExists:function(n,e){return n+"Fn"in e}},dt=Xe,b=Ne,J=be.isArray,o,T;function mt(n){return o=b.copyOptions(n),b.ensureFlagExists("ignoreDeclaration",o),b.ensureFlagExists("ignoreInstruction",o),b.ensureFlagExists("ignoreAttributes",o),b.ensureFlagExists("ignoreText",o),b.ensureFlagExists("ignoreComment",o),b.ensureFlagExists("ignoreCdata",o),b.ensureFlagExists("ignoreDoctype",o),b.ensureFlagExists("compact",o),b.ensureFlagExists("alwaysChildren",o),b.ensureFlagExists("addParent",o),b.ensureFlagExists("trim",o),b.ensureFlagExists("nativeType",o),b.ensureFlagExists("nativeTypeAttributes",o),b.ensureFlagExists("sanitize",o),b.ensureFlagExists("instructionHasAttributes",o),b.ensureFlagExists("captureSpacesBetweenElements",o),b.ensureAlwaysArrayExists(o),b.ensureKeyExists("declaration",o),b.ensureKeyExists("instruction",o),b.ensureKeyExists("attributes",o),b.ensureKeyExists("text",o),b.ensureKeyExists("comment",o),b.ensureKeyExists("cdata",o),b.ensureKeyExists("doctype",o),b.ensureKeyExists("type",o),b.ensureKeyExists("name",o),b.ensureKeyExists("elements",o),b.ensureKeyExists("parent",o),b.checkFnExists("doctype",o),b.checkFnExists("instruction",o),b.checkFnExists("cdata",o),b.checkFnExists("comment",o),b.checkFnExists("text",o),b.checkFnExists("instructionName",o),b.checkFnExists("elementName",o),b.checkFnExists("attributeName",o),b.checkFnExists("attributeValue",o),b.checkFnExists("attributes",o),o}function He(n){var e=Number(n);if(!isNaN(e))return e;var r=n.toLowerCase();return r==="true"?!0:r==="false"?!1:n}function ne(n,e){var r;if(o.compact){if(!T[o[n+"Key"]]&&(J(o.alwaysArray)?o.alwaysArray.indexOf(o[n+"Key"])!==-1:o.alwaysArray)&&(T[o[n+"Key"]]=[]),T[o[n+"Key"]]&&!J(T[o[n+"Key"]])&&(T[o[n+"Key"]]=[T[o[n+"Key"]]]),n+"Fn"in o&&typeof e=="string"&&(e=o[n+"Fn"](e,T)),n==="instruction"&&("instructionFn"in o||"instructionNameFn"in o)){for(r in e)if(e.hasOwnProperty(r))if("instructionFn"in o)e[r]=o.instructionFn(e[r],r,T);else{var c=e[r];delete e[r],e[o.instructionNameFn(r,c,T)]=c}}J(T[o[n+"Key"]])?T[o[n+"Key"]].push(e):T[o[n+"Key"]]=e}else{T[o.elementsKey]||(T[o.elementsKey]=[]);var u={};if(u[o.typeKey]=n,n==="instruction"){for(r in e)if(e.hasOwnProperty(r))break;u[o.nameKey]="instructionNameFn"in o?o.instructionNameFn(r,e,T):r,o.instructionHasAttributes?(u[o.attributesKey]=e[r][o.attributesKey],"instructionFn"in o&&(u[o.attributesKey]=o.instructionFn(u[o.attributesKey],r,T))):("instructionFn"in o&&(e[r]=o.instructionFn(e[r],r,T)),u[o.instructionKey]=e[r])}else n+"Fn"in o&&(e=o[n+"Fn"](e,T)),u[o[n+"Key"]]=e;o.addParent&&(u[o.parentKey]=T),T[o.elementsKey].push(u)}}function Ye(n){if("attributesFn"in o&&n&&(n=o.attributesFn(n,T)),(o.trim||"attributeValueFn"in o||"attributeNameFn"in o||o.nativeTypeAttributes)&&n){var e;for(e in n)if(n.hasOwnProperty(e)&&(o.trim&&(n[e]=n[e].trim()),o.nativeTypeAttributes&&(n[e]=He(n[e])),"attributeValueFn"in o&&(n[e]=o.attributeValueFn(n[e],e,T)),"attributeNameFn"in o)){var r=n[e];delete n[e],n[o.attributeNameFn(e,n[e],T)]=r}}return n}function gt(n){var e={};if(n.body&&(n.name.toLowerCase()==="xml"||o.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,c;(c=r.exec(n.body))!==null;)e[c[1]]=c[2]||c[3]||c[4];e=Ye(e)}if(n.name.toLowerCase()==="xml"){if(o.ignoreDeclaration)return;T[o.declarationKey]={},Object.keys(e).length&&(T[o.declarationKey][o.attributesKey]=e),o.addParent&&(T[o.declarationKey][o.parentKey]=T)}else{if(o.ignoreInstruction)return;o.trim&&(n.body=n.body.trim());var u={};o.instructionHasAttributes&&Object.keys(e).length?(u[n.name]={},u[n.name][o.attributesKey]=e):u[n.name]=n.body,ne("instruction",u)}}function Et(n,e){var r;if(typeof n=="object"&&(e=n.attributes,n=n.name),e=Ye(e),"elementNameFn"in o&&(n=o.elementNameFn(n,T)),o.compact){if(r={},!o.ignoreAttributes&&e&&Object.keys(e).length){r[o.attributesKey]={};var c;for(c in e)e.hasOwnProperty(c)&&(r[o.attributesKey][c]=e[c])}!(n in T)&&(J(o.alwaysArray)?o.alwaysArray.indexOf(n)!==-1:o.alwaysArray)&&(T[n]=[]),T[n]&&!J(T[n])&&(T[n]=[T[n]]),J(T[n])?T[n].push(r):T[n]=r}else T[o.elementsKey]||(T[o.elementsKey]=[]),r={},r[o.typeKey]="element",r[o.nameKey]=n,!o.ignoreAttributes&&e&&Object.keys(e).length&&(r[o.attributesKey]=e),o.alwaysChildren&&(r[o.elementsKey]=[]),T[o.elementsKey].push(r);r[o.parentKey]=T,T=r}function Tt(n){o.ignoreText||!n.trim()&&!o.captureSpacesBetweenElements||(o.trim&&(n=n.trim()),o.nativeType&&(n=He(n)),o.sanitize&&(n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),ne("text",n))}function yt(n){o.ignoreComment||(o.trim&&(n=n.trim()),ne("comment",n))}function ht(n){var e=T[o.parentKey];o.addParent||delete T[o.parentKey],T=e}function bt(n){o.ignoreCdata||(o.trim&&(n=n.trim()),ne("cdata",n))}function Nt(n){o.ignoreDoctype||(n=n.replace(/^ /,""),o.trim&&(n=n.trim()),ne("doctype",n))}function At(n){n.note=n}var $e=function(n,e){var r=dt.parser(!0,{}),c={};if(T=c,o=mt(e),r.opt={strictEntities:!0},r.onopentag=Et,r.ontext=Tt,r.oncomment=yt,r.onclosetag=ht,r.onerror=At,r.oncdata=bt,r.ondoctype=Nt,r.onprocessinginstruction=gt,r.write(n).close(),c[o.elementsKey]){var u=c[o.elementsKey];delete c[o.elementsKey],c[o.elementsKey]=u,delete c.text}return c},Ke=Ne,Ft=$e;function pt(n){var e=Ke.copyOptions(n);return Ke.ensureSpacesExists(e),e}var _t=function(n,e){var r,c,u,m;return r=pt(e),c=Ft(n,r),m="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?u=JSON.stringify(c,function(d,y){return d===m?"_":y},r.spaces):u=JSON.stringify(c,null,r.spaces),u.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},N=Ne,wt=be.isArray,L,B;function xt(n){var e=N.copyOptions(n);return N.ensureFlagExists("ignoreDeclaration",e),N.ensureFlagExists("ignoreInstruction",e),N.ensureFlagExists("ignoreAttributes",e),N.ensureFlagExists("ignoreText",e),N.ensureFlagExists("ignoreComment",e),N.ensureFlagExists("ignoreCdata",e),N.ensureFlagExists("ignoreDoctype",e),N.ensureFlagExists("compact",e),N.ensureFlagExists("indentText",e),N.ensureFlagExists("indentCdata",e),N.ensureFlagExists("indentAttributes",e),N.ensureFlagExists("indentInstruction",e),N.ensureFlagExists("fullTagEmptyElement",e),N.ensureFlagExists("noQuotesForNativeAttributes",e),N.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),N.ensureKeyExists("declaration",e),N.ensureKeyExists("instruction",e),N.ensureKeyExists("attributes",e),N.ensureKeyExists("text",e),N.ensureKeyExists("comment",e),N.ensureKeyExists("cdata",e),N.ensureKeyExists("doctype",e),N.ensureKeyExists("type",e),N.ensureKeyExists("name",e),N.ensureKeyExists("elements",e),N.checkFnExists("doctype",e),N.checkFnExists("instruction",e),N.checkFnExists("cdata",e),N.checkFnExists("comment",e),N.checkFnExists("text",e),N.checkFnExists("instructionName",e),N.checkFnExists("elementName",e),N.checkFnExists("attributeName",e),N.checkFnExists("attributeValue",e),N.checkFnExists("attributes",e),N.checkFnExists("fullTagEmptyElement",e),e}function X(n,e,r){return(!r&&n.spaces?`
`:"")+Array(e+1).join(n.spaces)}function se(n,e,r){if(e.ignoreAttributes)return"";"attributesFn"in e&&(n=e.attributesFn(n,B,L));var c,u,m,d,y=[];for(c in n)n.hasOwnProperty(c)&&n[c]!==null&&n[c]!==void 0&&(d=e.noQuotesForNativeAttributes&&typeof n[c]!="string"?"":'"',u=""+n[c],u=u.replace(/"/g,"&quot;"),m="attributeNameFn"in e?e.attributeNameFn(c,u,B,L):c,y.push(e.spaces&&e.indentAttributes?X(e,r+1,!1):" "),y.push(m+"="+d+("attributeValueFn"in e?e.attributeValueFn(u,c,B,L):u)+d));return n&&Object.keys(n).length&&e.spaces&&e.indentAttributes&&y.push(X(e,r,!1)),y.join("")}function We(n,e,r){return L=n,B="xml",e.ignoreDeclaration?"":"<?xml"+se(n[e.attributesKey],e,r)+"?>"}function qe(n,e,r){if(e.ignoreInstruction)return"";var c;for(c in n)if(n.hasOwnProperty(c))break;var u="instructionNameFn"in e?e.instructionNameFn(c,n[c],B,L):c;if(typeof n[c]=="object")return L=n,B=u,"<?"+u+se(n[c][e.attributesKey],e,r)+"?>";var m=n[c]?n[c]:"";return"instructionFn"in e&&(m=e.instructionFn(m,c,B,L)),"<?"+u+(m?" "+m:"")+"?>"}function Qe(n,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(n,B,L):n)+"-->"}function ze(n,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(n,B,L):n.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Je(n,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(n,B,L):n)+">"}function Ae(n,e){return e.ignoreText?"":(n=""+n,n=n.replace(/&amp;/g,"&"),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(n,B,L):n)}function vt(n,e){var r;if(n.elements&&n.elements.length)for(r=0;r<n.elements.length;++r)switch(n.elements[r][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function It(n,e,r){L=n,B=n.name;var c=[],u="elementNameFn"in e?e.elementNameFn(n.name,n):n.name;c.push("<"+u),n[e.attributesKey]&&c.push(se(n[e.attributesKey],e,r));var m=n[e.elementsKey]&&n[e.elementsKey].length||n[e.attributesKey]&&n[e.attributesKey]["xml:space"]==="preserve";return m||("fullTagEmptyElementFn"in e?m=e.fullTagEmptyElementFn(n.name,n):m=e.fullTagEmptyElement),m?(c.push(">"),n[e.elementsKey]&&n[e.elementsKey].length&&(c.push(Ze(n[e.elementsKey],e,r+1)),L=n,B=n.name),c.push(e.spaces&&vt(n,e)?`
`+Array(r+1).join(e.spaces):""),c.push("</"+u+">")):c.push("/>"),c.join("")}function Ze(n,e,r,c){return n.reduce(function(u,m){var d=X(e,r,c&&!u);switch(m.type){case"element":return u+d+It(m,e,r);case"comment":return u+d+Qe(m[e.commentKey],e);case"doctype":return u+d+Je(m[e.doctypeKey],e);case"cdata":return u+(e.indentCdata?d:"")+ze(m[e.cdataKey],e);case"text":return u+(e.indentText?d:"")+Ae(m[e.textKey],e);case"instruction":var y={};return y[m[e.nameKey]]=m[e.attributesKey]?m:m[e.instructionKey],u+(e.indentInstruction?d:"")+qe(y,e,r)}},"")}function et(n,e,r){var c;for(c in n)if(n.hasOwnProperty(c))switch(c){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||r)return!0;break;case e.cdataKey:if(e.indentCdata||r)return!0;break;case e.instructionKey:if(e.indentInstruction||r)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function Ct(n,e,r,c,u){L=n,B=e;var m="elementNameFn"in r?r.elementNameFn(e,n):e;if(typeof n>"u"||n===null||n==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(e,n)||r.fullTagEmptyElement?"<"+m+"></"+m+">":"<"+m+"/>";var d=[];if(e){if(d.push("<"+m),typeof n!="object")return d.push(">"+Ae(n,r)+"</"+m+">"),d.join("");n[r.attributesKey]&&d.push(se(n[r.attributesKey],r,c));var y=et(n,r,!0)||n[r.attributesKey]&&n[r.attributesKey]["xml:space"]==="preserve";if(y||("fullTagEmptyElementFn"in r?y=r.fullTagEmptyElementFn(e,n):y=r.fullTagEmptyElement),y)d.push(">");else return d.push("/>"),d.join("")}return d.push(tt(n,r,c+1,!1)),L=n,B=e,e&&d.push((u?X(r,c,!1):"")+"</"+m+">"),d.join("")}function tt(n,e,r,c){var u,m,d,y=[];for(m in n)if(n.hasOwnProperty(m))for(d=wt(n[m])?n[m]:[n[m]],u=0;u<d.length;++u){switch(m){case e.declarationKey:y.push(We(d[u],e,r));break;case e.instructionKey:y.push((e.indentInstruction?X(e,r,c):"")+qe(d[u],e,r));break;case e.attributesKey:case e.parentKey:break;case e.textKey:y.push((e.indentText?X(e,r,c):"")+Ae(d[u],e));break;case e.cdataKey:y.push((e.indentCdata?X(e,r,c):"")+ze(d[u],e));break;case e.doctypeKey:y.push(X(e,r,c)+Je(d[u],e));break;case e.commentKey:y.push(X(e,r,c)+Qe(d[u],e));break;default:y.push(X(e,r,c)+Ct(d[u],m,e,r,et(d[u],e)))}c=c&&!y.length}return y.join("")}var nt=function(n,e){e=xt(e);var r=[];return L=n,B="_root_",e.compact?r.push(tt(n,e,0,!0)):(n[e.declarationKey]&&r.push(We(n[e.declarationKey],e,0)),n[e.elementsKey]&&n[e.elementsKey].length&&r.push(Ze(n[e.elementsKey],e,0,!r.length))),r.join("")},Dt=nt,Ot=function(n,e){n instanceof Buffer&&(n=n.toString());var r=null;if(typeof n=="string")try{r=JSON.parse(n)}catch{throw new Error("The JSON structure is invalid")}else r=n;return Dt(r,e)},St=$e,Pt=_t,Kt=nt,Lt=Ot,Le={xml2js:St,xml2json:Pt,js2xml:Kt,json2xml:Lt},ge={exports:{}},Ee={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingError=void 0;class r extends Error{constructor(E,A){super(E),this.cause=A}}e.ParsingError=r;let c;function u(){return O(!1)||W()||V()||v()}function m(){return f(/\s*/),O(!0)||V()||j()||y(!1)}function d(){const h=y(!0),E=[];let A,S=m();for(;S;){if(S.node.type==="Element"){if(A)throw new Error("Found multiple root nodes");A=S.node}S.excluded||E.push(S.node),S=m()}if(!A)throw new r("Failed to parse XML","Root Element not found");if(c.xml.length!==0)throw new r("Failed to parse XML","Not Well-Formed XML");return{declaration:h?h.node:null,root:A,children:E}}function y(h){const E=f(h?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!E)return;const A={name:E[1],type:"ProcessingInstruction",attributes:{}};for(;!(F()||w("?>"));){const S=G();if(S)A.attributes[S.name]=S.value;else return}return f(/\?>/),{excluded:h?!1:c.options.filter(A)===!1,node:A}}function O(h){const E=f(/^<([^?!</>\s]+)\s*/);if(!E)return;const A={type:"Element",name:E[1],attributes:{},children:[]},S=h?!1:c.options.filter(A)===!1;for(;!(F()||w(">")||w("?>")||w("/>"));){const U=G();if(U)A.attributes[U.name]=U.value;else return}if(f(/^\s*\/>/))return A.children=null,{excluded:S,node:A};f(/\??>/);let x=u();for(;x;)x.excluded||A.children.push(x.node),x=u();if(c.options.strictMode){const U=`</${A.name}>`;if(c.xml.startsWith(U))c.xml=c.xml.slice(U.length);else throw new r("Failed to parse XML",`Closing tag not matching "${U}"`)}else f(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:S,node:A}}function j(){const h=f(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||f(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||f(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||f(/^<!DOCTYPE\s+\S+\s*>/);if(h){const E={type:"DocumentType",content:h[0]};return{excluded:c.options.filter(E)===!1,node:E}}}function v(){if(c.xml.startsWith("<![CDATA[")){const h=c.xml.indexOf("]]>");if(h>-1){const E=h+3,A={type:"CDATA",content:c.xml.substring(0,E)};return c.xml=c.xml.slice(E),{excluded:c.options.filter(A)===!1,node:A}}}}function V(){const h=f(/^<!--[\s\S]*?-->/);if(h){const E={type:"Comment",content:h[0]};return{excluded:c.options.filter(E)===!1,node:E}}}function W(){const h=f(/^([^<]+)/);if(h){const E={type:"Text",content:h[1]};return{excluded:c.options.filter(E)===!1,node:E}}}function G(){const h=f(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(h)return{name:h[1].trim(),value:g(h[2].trim())}}function g(h){return h.replace(/^['"]|['"]$/g,"")}function f(h){const E=c.xml.match(h);if(E)return c.xml=c.xml.slice(E[0].length),E}function F(){return c.xml.length===0}function w(h){return c.xml.indexOf(h)===0}function R(h,E={}){h=h.trim();const A=E.filter||(()=>!0);return c={xml:h,options:Object.assign(Object.assign({},E),{filter:A,strictMode:E.strictMode===!0})},d()}n.exports=R,e.default=R})(Ee,Ee.exports);var Bt=Ee.exports;(function(n,e){var r=Se&&Se.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});const c=r(Bt);function u(g){if(!g.options.indentation&&!g.options.lineSeparator)return;g.content+=g.options.lineSeparator;let f;for(f=0;f<g.level;f++)g.content+=g.options.indentation}function m(g){g.content=g.content.replace(/ +$/,"");let f;for(f=0;f<g.level;f++)g.content+=g.options.indentation}function d(g,f){g.content+=f}function y(g,f,F){if(typeof g.content=="string")O(g.content,f,F);else if(g.type==="Element")v(g,f,F);else if(g.type==="ProcessingInstruction")W(g,f);else throw new Error("Unknown node type: "+g.type)}function O(g,f,F){if(!F){const w=g.trim();(f.options.lineSeparator||w.length===0)&&(g=w)}g.length>0&&(!F&&f.content.length>0&&u(f),d(f,g))}function j(g,f){const F="/"+g.join("/"),w=g[g.length-1];return f.includes(w)||f.includes(F)}function v(g,f,F){if(f.path.push(g.name),!F&&f.content.length>0&&u(f),d(f,"<"+g.name),V(f,g.attributes),g.children===null||f.options.forceSelfClosingEmptyTag&&g.children.length===0){const w=f.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";d(f,w)}else if(g.children.length===0)d(f,"></"+g.name+">");else{const w=g.children;d(f,">"),f.level++;let R=g.attributes["xml:space"]==="preserve",h=!1;if(!R&&f.options.ignoredPaths&&(h=j(f.path,f.options.ignoredPaths),R=h),!R&&f.options.collapseContent){let E=!1,A=!1,S=!1;w.forEach(function(x,U){x.type==="Text"?(x.content.includes(`
`)?(A=!0,x.content=x.content.trim()):(U===0||U===w.length-1)&&!F&&x.content.trim().length===0&&(x.content=""),x.content.trim().length>0&&(E=!0)):x.type==="CDATA"?E=!0:S=!0}),E&&(!S||!A)&&(R=!0)}w.forEach(function(E){y(E,f,F||R)}),f.level--,!F&&!R&&u(f),h&&m(f),d(f,"</"+g.name+">")}f.path.pop()}function V(g,f){Object.keys(f).forEach(function(F){const w=f[F].replace(/"/g,"&quot;");d(g," "+F+'="'+w+'"')})}function W(g,f){f.content.length>0&&u(f),d(f,"<?"+g.name),V(f,g.attributes),d(f,"?>")}function G(g,f={}){f.indentation="indentation"in f?f.indentation:"    ",f.collapseContent=f.collapseContent===!0,f.lineSeparator="lineSeparator"in f?f.lineSeparator:`\r
`,f.whiteSpaceAtEndOfSelfclosingTag=f.whiteSpaceAtEndOfSelfclosingTag===!0,f.throwOnFailure=f.throwOnFailure!==!1;try{const F=(0,c.default)(g,{filter:f.filter,strictMode:f.strictMode}),w={content:"",level:0,options:f,path:[]};return F.declaration&&W(F.declaration,w),F.children.forEach(function(R){y(R,w,!1)}),f.lineSeparator?w.content.replace(/\r\n/g,`
`).replace(/\n/g,f.lineSeparator):w.content}catch(F){if(f.throwOnFailure)throw F;return g}}G.minify=(g,f={})=>G(g,Object.assign(Object.assign({},f),{indentation:"",lineSeparator:""})),n.exports=G,e.default=G})(ge,ge.exports);var Mt=ge.exports;const Rt=ot(Mt),jt={"'":"&apos;",'"':"&quot;",">":"&gt;","<":"&lt;"};let Y=[],te=0,Te=1920,ye=1080,he=!0;const Be=document.getElementById("fileList"),K=document.getElementById("outputLog"),fe=document.getElementById("dismissAll"),de=document.getElementById("downloadAll"),Q=document.getElementById("autoDownload"),Me=document.getElementById("layoutWidth"),Re=document.getElementById("layoutHeight");function z(n){n?(Q.checked=!0,he=!0,localStorage.setItem("autoDownload","true")):(Q.checked=!1,he=!1,localStorage.setItem("autoDownload","false"))}localStorage.getItem("autoDownload")?localStorage.getItem("autoDownload")=="true"?z(!0):localStorage.getItem("autoDownload")=="false"?z(!1):z(!0):z(!0);Q==null||Q.addEventListener("click",()=>{Q.checked?z(!0):z(!1)});var Ge;(Ge=document.getElementById("clearLog"))==null||Ge.addEventListener("click",async()=>{K&&(K.innerHTML="")});fe==null||fe.addEventListener("click",async()=>{Y=[],pe()});de==null||de.addEventListener("click",async()=>{for(const n in Y)Fe(parseInt(n))});function me(n){n=n.replaceAll("&","&amp;");for(const[e,r]of Object.entries(jt))n=n.replaceAll(e,r);return n}function Fe(n){const e=Y[n],r=document.createElement("a"),c=URL.createObjectURL(e);r.href=c,r.download=e.name,r.click(),window.URL.revokeObjectURL(c)}function pe(){let n="";for(const e in Y){const r=Y[e];n=n.concat(`
            <li class="lc-finished-file relative">
                <button class="absolute right-3 top-3 w-4 h-4 lc-dismiss-file-button" data-file="${e}" title="Dismiss">
                    <svg
                        alt="X icon"
                        class="w-full h-full transition text-neutral-700 hover:text-neutral-800 dark:text-white dark:hover:text-neutral-200"
                        width="250"
                        height="250"
                        viewBox="0 0 250 250"
                        version="1.1"
                        id="svg187"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:svg="http://www.w3.org/2000/svg">
                        <defs
                            id="defs184" />
                        <g
                            id="layer1">
                            <path
                                style="stroke-width:40;stroke:currentColor;fill:currentColor;"
                                d="M 20,230 230,20"
                                id="path289" />
                            <path
                                style="stroke-width:40;stroke:currentColor;fill:currentColor;"
                                d="M 230,230 20,20"
                                id="path1002" />
                        </g>
                    </svg>
                </button>
                <p class="text-ellipsis overflow-hidden whitespace-nowrap mx-6" title="${r.name}">${r.name}</p>
                <button class="lc-button lc-download-file-button" data-file="${e}">Download</button>
            </li>
        `)}if(Be){Be.innerHTML=n;const e=document.getElementsByClassName("lc-download-file-button");for(const c in e){const u=e[c];typeof u=="object"&&(u.onclick=function(){u.dataset.file&&Fe(parseInt(u.dataset.file))})}const r=document.getElementsByClassName("lc-dismiss-file-button");for(const c in r){const u=r[c];typeof u=="object"&&(u.onclick=function(){u.dataset.file&&(delete Y[parseInt(u.dataset.file)],pe())})}}}var Ve;(Ve=document.getElementById("convert"))==null||Ve.addEventListener("click",async()=>{const n=document.getElementById("file");if(n&&n.files&&n.files.length>0)for(const e in n.files){const r=n.files.item(parseInt(e));if(r!==n.files[e])return;if(Re&&Me){if(Te=parseInt(Me.value),ye=parseInt(Re.value),Number.isNaN(Te)||Number.isNaN(ye)){re("Invalid layout width and height");return}}else return;K&&K.innerHTML.replaceAll(" ","")!=""&&Gt(),ke(`Converting ${r.name}...`);try{const c=await r.text(),u=[...c.matchAll(/<Widget /g)].length,m=Le.xml2js(c),d=m.elements[0];te=0;const y=await Ut(d);if(te!=u?re(`Only finished converting ${te}/${u} widgets due to errors`):ke(`Finished converting ${te}/${u} widgets`,!0),y){const j=`${r.name.replace(/\.[^/.]+$/,"")}_converted.layout`;let v=Le.js2xml(m);v=Rt(v,{whiteSpaceAtEndOfSelfclosingTag:!0});const V=new File([v],j,{type:"text/plain"});Y.push(V),pe(),he&&Fe(Y.indexOf(V))}}catch(c){re(`Failed to convert file: ${c}`)}}else re("No file(s) selected")});async function Ut(n){const e=await it(n,Te,ye);return e?(n.elements=e,n):null}async function it(n,e,r){var m;const c=[];let u=null;return e&&r?u={x:0,y:0,width:e,height:r}:u=Ue(n),await((m=n.elements)==null?void 0:m.map(async d=>{const y=await it(d);if(d.elements=y,d.name=="Widget"){const O=Ue(d);if(O==null){je(d);return}if(u==null){je(n);return}const j={x:O.x/u.width,y:O.y/u.height,width:O.width/u.width,height:O.height/u.height};d.attributes&&(d.attributes.position_real=kt(j),delete d.attributes.position,te++)}if(d.attributes){const O={};for(const[j,v]of Object.entries(d.attributes))v&&(isNaN(Number(v))?O[me(j)]=me(v.toString()):O[me(j)]=v);d.attributes=O}c.push(d)})),c}function je(n){n.attributes?n.attributes.position?ae(`Skipped a widget with invalid position data ("${n.attributes.position}")`):ae("Skipped a widget with no position data"):ae("Skipped a widget with no attributes")}function Ue(n){var r;const e={x:0,y:0,width:0,height:0};if(n.attributes){const c=(r=n.attributes.position)==null?void 0:r.toString().split(" ");if(c&&c[0]&&c[1]&&c[2]&&c[3])return e.x=parseFloat(c[0]),e.y=parseFloat(c[1]),e.width=parseFloat(c[2]),e.height=parseFloat(c[3]),e}return null}function kt(n){const e=[];return e.push(n.x.toString()),e.push(n.y.toString()),e.push(n.width.toString()),e.push(n.height.toString()),e.join(" ")}function Gt(){K&&(K.innerHTML=K.innerHTML.concat('<hr class="lc-hr">'))}function ae(n,e){K&&(e==!0?K.innerHTML=K.innerHTML.concat(`<li class="lc-error">${n}</li>`):K.innerHTML=K.innerHTML.concat(`<li class="lc-error">- ${n}</li>`))}function ke(n,e){K&&(e==!0?K.innerHTML=K.innerHTML.concat(`<li class="lc-status lc-success">${n}</li>`):K.innerHTML=K.innerHTML.concat(`<li class="lc-status">${n}</li>`))}function re(n){ae(n,!0)}
